(()=>{function l(t){let e=document.querySelector(t);if(!e)throw`Pirsch script ${t} tag not found!`;return e}function d(t){return x()||y(t)||!S(t)||v(t)}function f(t){return t?t=location.href.replace(location.hostname,t):t=location.href,t}function p(t){let e=document.referrer;return t&&(e=e.replace(location.hostname,t)),e}function x(){return navigator.doNotTrack==="1"||localStorage.getItem("disable_pirsch")}function y(t){return!t.hasAttribute("data-dev")&&(/^localhost(.*)$|^127(\.[0-9]{1,3}){3}$/is.test(location.hostname)||location.protocol==="file:")?(console.info("Pirsch is ignored on localhost. Add the data-dev attribute to enable it."),!0):!1}function S(t){try{let e=t.getAttribute("data-include"),r=e?e.split(","):[];if(r.length){let o=!1;for(let n=0;n<r.length;n++)if(new RegExp(r[n]).test(location.pathname)){o=!0;break}if(!o)return!1}}catch(e){console.error(e)}return!0}function v(t){try{let e=t.getAttribute("data-exclude"),r=e?e.split(","):[];for(let o=0;o<r.length;o++)if(new RegExp(r[o]).test(location.pathname))return!0}catch(e){console.error(e)}return!1}function g(t,e,r,o,n,c,i,s){if(history.pushState&&!s){let u=history.pushState;history.pushState=function(w,b,A){u.apply(this,[w,b,A]),a(t,e,r,o,n,c,i)},window.addEventListener("popstate",()=>a(t,e,r,o,n,c,i))}document.body?a(t,e,r,o,n,c,i):window.addEventListener("DOMContentLoaded",()=>a(t,e,r,o,n,c,i))}function a(t,e,r,o,n,c,i){h(e,r,o,n,c,i);for(let s=0;s<t.length;s++)h(t[s],r,o,n,c,i)}function h(t,e,r,o,n,c){let i=p(t);t=f(t),o&&(t=t.includes("?")?t.split("?")[0]:t);let s=r+"?nc="+new Date().getTime()+"&code="+e+"&url="+encodeURIComponent(t.substring(0,1800))+"&t="+encodeURIComponent(document.title)+"&ref="+(n?"":encodeURIComponent(i))+"&w="+(c?"":screen.width)+"&h="+(c?"":screen.height),u=new XMLHttpRequest;u.open("GET",s),u.send()}(function(){"use strict";let t=l("#pirschjs");if(d(t)||document.querySelector("#pirschextendedjs"))return;let e=t.getAttribute("data-endpoint")||"https://api.pirsch.io/hit",r=t.getAttribute("data-code")||"not-set",o=t.getAttribute("data-domain")?t.getAttribute("data-domain").split(",")||[]:[],n=t.hasAttribute("data-disable-query"),c=t.hasAttribute("data-disable-referrer"),i=t.hasAttribute("data-disable-resolution"),s=t.hasAttribute("data-disable-history"),u=t.getAttribute("data-dev");g(o,u,r,e,n,c,i,s)})();})();
